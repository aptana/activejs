<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>ActiveJS Reference: ActiveRoutes</title>
      <meta http-equiv="cache-control" content="no-cache">
      <link rel="stylesheet" href="shared.css" type="text/css"><script src="jquery.js" type="text/javascript"></script><script src="api.js" type="text/javascript"></script></head>
   <body><img src="aptana.gif" hspace="21" vspace="3"><h1>ActiveRoutes : <a href="Object.html">Object</a><div style="font-weight:normal;font-size:70%">Return to: <a href="ActiveJS.index.html">ActiveJS index</a></div>
      </h1>
      <div class="content">
         <div class="classDescription"></div><a name="ActiveRoutes.Constructors"></a><h2>Constructors</h2>
         <table cellspacing="2" width="90%">
            <tr class="compheader" visibility="">
               <th style="text-align:left">Constructor</th>
               <th>Action</th>
            </tr>
            <tr class="item ">
               <td class="declaration">
                  <div class="name"><a name="ActiveRoutes."></a><a href="javascript:void(0);" onclick="toggleClickDetails(this)">ActiveRoutes Constructor</a>(<i>Array</i>&nbsp;routes, [<i>Object</i>&nbsp;scope,] [<i>Object</i>&nbsp;options]) : <i>ActiveRoutes</i></div>
                  <div class="description"></div>
               </td>
               <td class="show-details"><a href="javascript:void(0);" onclick="toggleRowDetails(this)" style="color:#FFFFFF;">Show Details</a></td>
            </tr>
            <tr class="details-method">
               <td valign="top" colspan="2"><a name="ActiveRoutes."></a><h3>ActiveRoutes(<i>Array</i>&nbsp;routes, [<i>Object</i>&nbsp;scope,] [<i>Object</i>&nbsp;options]) : <i>ActiveRoutes</i></h3>
                  <p class="padded"><b>Parameters</b><table cellspacing="1" width="90%" class="parameter-table">
                        <tr>
                           <td width="10%"><i>Array</i></td>
                           <td width="10%"><b>routes</b></td>
                           <td width="80%"></td>
                        </tr>
                        <tr>
                           <td width="10%"><i>Object</i></td>
                           <td width="10%"><b>scope</b></td>
                           <td width="80%"><b>(optional)</b>defaults to window
                           </td>
                        </tr>
                        <tr>
                           <td width="10%"><i>Object</i></td>
                           <td width="10%"><b>options</b></td>
                           <td width="80%"><b>(optional)</b></td>
                        </tr>
                     </table>
                  </p>
                  <p class="padded"><b>Returns</b><table cellspacing="1" width="90%" class="parameter-table">
                        <tr>
                           <td width="20%"><i>ActiveRoutes</i></td>
                           <td width="80%">options can contain the following keys: - base: default '', the default path / url prefix to be used in a generated url -
                              dispatcher: default ActiveRoutes.prototype.defaultDispatcher, the dispatcher function to be called when dispatch() is called
                              and a route is found - camelizeObjectName: default true, if true, trying to call "blog_controller" through routes will call
                              "BlogController" - camelizeMethodName: default true, if true, trying to call "my_method_name" through routes will call "myMethodName"
                              - camelizeGeneratedMethods: default true, will export generated methods into the scope as "articleUrl" instead of "article_url"
                           </td>
                        </tr>
                     </table>
                  </p>
                  <dl class="details"></dl>
               </td>
            </tr>
         </table><a name="ActiveRoutes.Properties"></a><h2>Properties</h2>
         <table cellspacing="2" width="90%">
            <tr class="compheader" visibility="">
               <th style="text-align:left">Property</th>
               <th>Action</th>
            </tr>
            <tr class="item ">
               <td class="declaration">
                  <div class="name"><a name="ActiveRoutes.defaultDispatcher"></a>defaultDispatcher
                     					 : <i>Function</i></div>
                  <div class="description">If no "dispatcher" key is passed into the options to contstruct a route set this is used. It will call scope.object_name.method_name(route.params)</div>
               </td>
               <td class="no-details">
                  						No Details
                  					
               </td>
            </tr>
            <tr class="details-property">
               <td valign="top" colspan="2">
                  <dl class="details"></dl>
               </td>
            </tr>
            <tr class="item ">
               <td class="declaration">
                  <div class="name"><a name="ActiveRoutes.history"></a>history
                     					 : <i>Array</i></div>
                  <div class="description"></div>
               </td>
               <td class="no-details">
                  						No Details
                  					
               </td>
            </tr>
            <tr class="details-property">
               <td valign="top" colspan="2">
                  <dl class="details"></dl>
               </td>
            </tr>
         </table><a name="ActiveRoutes.Functions"></a><h2>Functions</h2>
         <table cellspacing="2" width="90%">
            <tr class="compheader" visibility="">
               <th style="text-align:left">Method</th>
               <th>Action</th>
            </tr>
            <tr class="item ">
               <td class="declaration">
                  <div class="name"><a name="ActiveRoutes.addRoute"></a><a href="javascript:void(0);" onclick="toggleClickDetails(this)">addRoute</a>() : <i>
                        			void
                        		</i></div>
                  <div class="description">Add a new route to the route set.</div>
               </td>
               <td class="show-details"><a href="javascript:void(0);" onclick="toggleRowDetails(this)" style="color:#FFFFFF;">Show Details</a></td>
            </tr>
            <tr class="details-method">
               <td valign="top" colspan="2">
                  <dl class="details">
                     <dt>Examples</dt>
                     <dd>
                        routes.addRoute('route_name','/route/path', { params } );<br/> routes.addRoute('/route/path', { params } );<br/> routes.addRoute('/route/path');
                        
                     </dd>
                     <dt>Throws</dt>
                     <dd>
                        <dl>
                           <dd></dd>
                           <dd></dd>
                           <dd></dd>
                        </dl>
                     </dd>
                  </dl>
               </td>
            </tr>
            <tr class="item ">
               <td class="declaration">
                  <div class="name"><a name="ActiveRoutes.back"></a><a href="javascript:void(0);" onclick="toggleClickDetails(this)">back</a>() : <i>Boolean</i></div>
                  <div class="description">Calls to the previous dispatched route in the history.</div>
               </td>
               <td class="show-details"><a href="javascript:void(0);" onclick="toggleRowDetails(this)" style="color:#FFFFFF;">Show Details</a></td>
            </tr>
            <tr class="details-method">
               <td valign="top" colspan="2">
                  <p class="padded"><b>Returns</b><table cellspacing="1" width="90%" class="parameter-table">
                        <tr>
                           <td width="20%"><i>Boolean</i></td>
                           <td width="80%"></td>
                        </tr>
                     </table>
                  </p>
                  <dl class="details"></dl>
               </td>
            </tr>
            <tr class="item ">
               <td class="declaration">
                  <div class="name"><a name="ActiveRoutes.dispatch"></a><a href="javascript:void(0);" onclick="toggleClickDetails(this)">dispatch</a>(<i>String</i>&nbsp;path) : <i>
                        			void
                        		</i></div>
                  <div class="description">Will match() the given path and call the dispatcher if one is found.</div>
               </td>
               <td class="show-details"><a href="javascript:void(0);" onclick="toggleRowDetails(this)" style="color:#FFFFFF;">Show Details</a></td>
            </tr>
            <tr class="details-method">
               <td valign="top" colspan="2">
                  <p class="padded"><b>Parameters</b><table cellspacing="1" width="90%" class="parameter-table">
                        <tr>
                           <td width="10%"><i>String</i></td>
                           <td width="10%"><b>path</b></td>
                           <td width="80%"></td>
                        </tr>
                     </table>
                  </p>
                  <dl class="details">
                     <dt>Examples</dt>
                     <dd>
                        var routes = new ActiveRoutes( [ [ 'post','/blog/post/:id', { object : 'blog',method: 'post'}]]);<br/> routes.dispatch('/blog/post/5');<br/>
                        //by default calls Blog.post( { object : 'blog',method: 'post',id: 5});
                        
                     </dd>
                     <dt>Throws</dt>
                     <dd>
                        <dl>
                           <dd></dd>
                        </dl>
                     </dd>
                  </dl>
               </td>
            </tr>
            <tr class="item ">
               <td class="declaration">
                  <div class="name"><a name="ActiveRoutes.getError"></a><a href="javascript:void(0);" onclick="toggleClickDetails(this)">getError</a>() : <i>mixed</i></div>
                  <div class="description">If match() returns false, the error it generates can be retrieved with this function.</div>
               </td>
               <td class="show-details"><a href="javascript:void(0);" onclick="toggleRowDetails(this)" style="color:#FFFFFF;">Show Details</a></td>
            </tr>
            <tr class="details-method">
               <td valign="top" colspan="2">
                  <p class="padded"><b>Returns</b><table cellspacing="1" width="90%" class="parameter-table">
                        <tr>
                           <td width="20%"><i>mixed</i></td>
                           <td width="80%">String or null</td>
                        </tr>
                     </table>
                  </p>
                  <dl class="details"></dl>
               </td>
            </tr>
            <tr class="item ">
               <td class="declaration">
                  <div class="name"><a name="ActiveRoutes.match"></a><a href="javascript:void(0);" onclick="toggleClickDetails(this)">match</a>(<i>String</i>&nbsp;path) : <i>mixed</i></div>
                  <div class="description"></div>
               </td>
               <td class="show-details"><a href="javascript:void(0);" onclick="toggleRowDetails(this)" style="color:#FFFFFF;">Show Details</a></td>
            </tr>
            <tr class="details-method">
               <td valign="top" colspan="2">
                  <p class="padded"><b>Parameters</b><table cellspacing="1" width="90%" class="parameter-table">
                        <tr>
                           <td width="10%"><i>String</i></td>
                           <td width="10%"><b>path</b></td>
                           <td width="80%"></td>
                        </tr>
                     </table>
                  </p>
                  <p class="padded"><b>Returns</b><table cellspacing="1" width="90%" class="parameter-table">
                        <tr>
                           <td width="20%"><i>mixed</i></td>
                           <td width="80%">false if no match, otherwise the matching route.</td>
                        </tr>
                     </table>
                  </p>
                  <dl class="details">
                     <dt>Examples</dt>
                     <dd>
                        var route = routes.match('/blog/post/5');<br/> route == { object : 'blog',method: 'post', id: 5};
                        
                     </dd>
                  </dl>
               </td>
            </tr>
            <tr class="item ">
               <td class="declaration">
                  <div class="name"><a name="ActiveRoutes.next"></a><a href="javascript:void(0);" onclick="toggleClickDetails(this)">next</a>() : <i>Boolean</i></div>
                  <div class="description">Calls to the next dispatched route in the history if back() has already been called.</div>
               </td>
               <td class="show-details"><a href="javascript:void(0);" onclick="toggleRowDetails(this)" style="color:#FFFFFF;">Show Details</a></td>
            </tr>
            <tr class="details-method">
               <td valign="top" colspan="2">
                  <p class="padded"><b>Returns</b><table cellspacing="1" width="90%" class="parameter-table">
                        <tr>
                           <td width="20%"><i>Boolean</i></td>
                           <td width="80%"></td>
                        </tr>
                     </table>
                  </p>
                  <dl class="details"></dl>
               </td>
            </tr>
            <tr class="item ">
               <td class="declaration">
                  <div class="name"><a name="ActiveRoutes.urlFor"></a><a href="javascript:void(0);" onclick="toggleClickDetails(this)">urlFor</a>([<i>Object</i>&nbsp;params]) : <i>String</i></div>
                  <div class="description"></div>
               </td>
               <td class="show-details"><a href="javascript:void(0);" onclick="toggleRowDetails(this)" style="color:#FFFFFF;">Show Details</a></td>
            </tr>
            <tr class="details-method">
               <td valign="top" colspan="2">
                  <p class="padded"><b>Parameters</b><table cellspacing="1" width="90%" class="parameter-table">
                        <tr>
                           <td width="10%"><i>Object</i></td>
                           <td width="10%"><b>params</b></td>
                           <td width="80%"><b>(optional)</b></td>
                        </tr>
                     </table>
                  </p>
                  <p class="padded"><b>Returns</b><table cellspacing="1" width="90%" class="parameter-table">
                        <tr>
                           <td width="20%"><i>String</i></td>
                           <td width="80%"></td>
                        </tr>
                     </table>
                  </p>
                  <dl class="details">
                     <dt>Examples</dt>
                     <dd>
                        var routes = new ActiveRoutes( [ [ 'post','/blog/post/:id', { object : 'blog',method: 'post'}]]);<br/> routes.urlFor( { object
                        : 'blog',method: 'post', id: 5}) == '/blog/post/5';
                        
                     </dd>
                     <dt>Throws</dt>
                     <dd>
                        <dl>
                           <dd></dd>
                        </dl>
                     </dd>
                  </dl>
               </td>
            </tr>
         </table><a name="ActiveRoutes.Examples"></a><h2>Examples</h2>
         <p>
            ActiveRoutes maps URI strings to method calls, and visa versa. It shares a similar syntax to Rails Routing, but is framework
            agnostic and can map calls to any type of object. Server side it can be used to map requests for a given URL to a method that
            will render a page, client side it can be used to provide deep linking and back button / history support for your Ajax application.
            Declaring Routes ---------------- Wether declared in the constructor, or with addRoute(), routes can have up to three parameters,
            and can be declared in any of the follow ways: - "name", "path", { params } - "path", { params } - "path" The path portion
            of a route is a URI string. Parameters that will be passed to the method called are represented with a colon. Names are optional,
            but the path and the params together must declare "object" and "method" parameters. The following are all valid routes: var
            routes = new ActiveRoutes( [ [ 'root','/', { object : 'Pages',method:'index'}], [ 'contact','/contact', { object : 'Pages',method:'contact'}],
            [ 'blog','/blog', { object : 'Blog',method:'index'}], [ 'post','/blog/post/:id', { object : 'Blog',method:'post'}], [ '/pages/*',
            { object : 'Pages',method:'page'}], [ '/:object/:method' ] ] ,Application); Catch All Routes ---------------- If you want
            to route all requests below a certain path to a given method, place an asterisk in your route. When a matching path is dispatched
            to that route the path components will be available in an array called "path". route_set.addRoute('/wiki/*', { object : 'WikiController',method:'page'})
            route_set.dispatch('/wiki/a/b/c'); //calls: WikiController.page( { object : 'WikiController',method:'page',path:['a','b','c']})
            Route Requirements ------------------ Each route can take a special "requirements" parameter that will not be passed in the
            params passed to the called method. Each requirement can be a regular expression or a function, which the value of the parameter
            will be checked against. Each value checked by a regular expression or function is always a string. route_set.addRoute('/article/:article_id/:comment_id,
            { article_id: /^\d+$/, comment_id: function(comment_id) { return comment_id.match(/^\d+$/); } }); Scope ----- You can specify
            what scope an ActiveRoutes instance will look in to call the specified objects and methods. This defaults to window but can
            be specified as the second parameter to the constructor. Generating URLs --------------- The method urlFor() is available
            on every route set, and can generate a URL from an object. Using the routes declared in the example above: routes.urlFor(
            { object : 'Blog',method:'post',id:5}) == '/blog/post/5'; If named routes are given, corresponding methods are generated in
            the passed scope to resolve these urls. Application.postUrl( { id : 5}) == '/blog/post/5'; To get the params to generate a
            url, a similar method is generated: Application.postParams( { id : 5}) == {object:'Blog',method:'post',id:5}; To call a named
            route directly without round-tripping to a string and back to params use: Application.callPost( { id : 5}); Dispatching -----------
            To call a given method from a URL string, use the dispatch() method. routes.dispatch('/'); //will call Pages.index() routes.dispatch('/blog/post/5');
            //will call Blog.post( { id : 5}); History ------- Most server side JavaScript implementations will not preserve objects between
            requests, so the history is not of use. Client side, after each dispatch, the route and parameters are recorded. The history
            itself is accessible with the "history" property, and is traversable with the next() and back() methods.
            
         </p>
      </div>
      <div style="visibility:hidden;display:none"> aptana_docs</div>
   </body>
</html>